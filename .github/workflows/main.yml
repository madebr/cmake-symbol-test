name: Build

on: [push, pull_request]

jobs:
  Build:
    name: ${{ matrix.platform.name }}
    runs-on: ${{ matrix.platform.os }}

    strategy:
      fail-fast: false
      matrix:
        platform:
          - { name: Linux (gcc),    os: ubuntu-latest,  cmake: '-DCMAKE_C_COMPILER=gcc -DCMAKE_CXX_COMPILER=g++' }
          - { name: Linux (llvm),   os: ubuntu-latest,  cmake: '-DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++' }
          - { name: Windows,        os: windows-latest }
          - { name: macOS,          os: macos-latest }

    steps:
      - uses: actions/checkout@v4
      - name: CMake (Configure)
        run: |
          cmake -B build ${{ matrix.platforms.cmake }}
